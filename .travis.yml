language: python

python:
  - 3.3
  - 3.4

env:
  - DJANGO='Django>=1.7,<1.8'
  - DJANGO=https://github.com/django/django/archive/master.zip

install:
  - pip install "$DJANGO"
  - pip install -r requirements.txt

before_script:
  - psql -c 'create database golgoth;' -U postgres

script:
  - ./runtests.sh

deploy:
  provider: openshift
  user: golgoth@openmail.cc
  password:
    secure: S4g+GRdr3PnX4eoD1ZwSWKeB3lzhiH87berwf0cqgXVciVthDgqzU3H1x3zBTFQjXBTS7cXG4G53xqKDtGX6yjUwuq2BI8xr5d7tzHB9ErkE8rTnFAjK9lPQwFom3VSvfbq+SMhtqquZRv9wwup07J3uEQrJmtswc4tVDxBRUak=
  app: web
  domain: golgoth
  on:
    repo: golgoth42/golgoth
